# å®å¡”é¢æ¿ç»ˆç«¯éƒ¨ç½²å‘½ä»¤ - v0.96ç‰ˆæœ¬

## ğŸ”§ å‡†å¤‡å·¥ä½œ
1. ç™»å½•å®å¡”é¢æ¿
2. è¿›å…¥"ç»ˆç«¯"åŠŸèƒ½
3. ç¡®è®¤ä½ çš„ç½‘ç«™ç›®å½•è·¯å¾„

## ğŸ“‹ åˆ†æ­¥æ‰§è¡Œå‘½ä»¤

### æ­¥éª¤1: è¿›å…¥ç½‘ç«™ç›®å½•å¹¶å¤‡ä»½
```bash
# è¿›å…¥ä½ çš„ç½‘ç«™ç›®å½• (è¯·ä¿®æ”¹ä¸ºå®é™…è·¯å¾„)
cd /www/wwwroot/ä½ çš„åŸŸå

# åˆ›å»ºå¤‡ä»½
cp -r . ../backup_$(date +%Y%m%d_%H%M%S)
echo "âœ… å½“å‰ç‰ˆæœ¬å·²å¤‡ä»½"
```

### æ­¥éª¤2: æ‹‰å–æœ€æ–°ä»£ç 
```bash
# å¦‚æœå·²æœ‰Gitä»“åº“
git fetch origin
git checkout main  
git pull origin main
git checkout v0.96

# å¦‚æœæ˜¯é¦–æ¬¡éƒ¨ç½² (æ²¡æœ‰Git)
# git clone https://github.com/a921198345/studypartner007.git .
# git checkout v0.96
```

### æ­¥éª¤3: å®‰è£…ä¾èµ–å’Œæ„å»º
```bash
# å®‰è£…ä¾èµ–
npm install --production

# æ„å»ºé¡¹ç›®  
npm run build
```

### æ­¥éª¤4: é‡å¯æœåŠ¡
```bash
# æŸ¥çœ‹å½“å‰PM2è¿›ç¨‹
pm2 list

# é‡å¯åº”ç”¨ (å¦‚æœå·²å­˜åœ¨)
pm2 restart law-exam-assistant

# æˆ–è€…å¯åŠ¨æ–°è¿›ç¨‹ (å¦‚æœä¸å­˜åœ¨)
pm2 start npm --name "law-exam-assistant" -- start

# ä¿å­˜PM2é…ç½®
pm2 save
```

### æ­¥éª¤5: éªŒè¯éƒ¨ç½²
```bash
# æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs law-exam-assistant --lines 20

# æµ‹è¯•ç½‘ç«™å“åº”
curl -I http://localhost:3000
```

## ğŸš¨ ä¸€é”®æ‰§è¡Œè„šæœ¬
å¦‚æœä½ æƒ³ä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰å‘½ä»¤ï¼Œå¯ä»¥ä¸‹è½½å¹¶è¿è¡Œéƒ¨ç½²è„šæœ¬ï¼š

```bash
# ä¸‹è½½è„šæœ¬ (éœ€è¦å…ˆä¸Šä¼ åˆ°æœåŠ¡å™¨)
wget https://raw.githubusercontent.com/a921198345/studypartner007/main/deploy-to-baota.sh

# æˆ–è€…ç›´æ¥å¤åˆ¶è„šæœ¬å†…å®¹åˆ›å»ºæ–‡ä»¶
nano deploy.sh
# ç²˜è´´è„šæœ¬å†…å®¹åä¿å­˜

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x deploy.sh

# æ‰§è¡Œéƒ¨ç½²
./deploy.sh
```

## ğŸ” å¸¸è§é—®é¢˜è§£å†³

### å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼š
```bash
chown -R www:www /www/wwwroot/ä½ çš„åŸŸå
chmod -R 755 /www/wwwroot/ä½ çš„åŸŸå
```

### å¦‚æœNode.jsç‰ˆæœ¬ä¸å…¼å®¹ï¼š
```bash
# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
node -v
npm -v

# å¦‚éœ€æ›´æ–° (é€šè¿‡å®å¡”è½¯ä»¶å•†åº—æˆ–æ‰‹åŠ¨å®‰è£…)
```

### å¦‚æœç«¯å£å†²çªï¼š
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -tlnp | grep :3000

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 PID
```

## ğŸ“ å›æ»šæ–¹æ¡ˆ
å¦‚æœéƒ¨ç½²å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

```bash
# åœæ­¢å½“å‰æœåŠ¡
pm2 stop law-exam-assistant

# æ¢å¤å¤‡ä»½
cp -r ../backup_* .

# é‡å¯æœåŠ¡
pm2 restart law-exam-assistant
```