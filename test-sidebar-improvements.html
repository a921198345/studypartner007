<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾§è¾¹æ ä¼˜åŒ–æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-section {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h2 {
            margin-top: 0;
            color: #333;
        }
        .sidebar-demo {
            width: 260px;
            height: 400px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            background: #f9fafb;
        }
        .conversation-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 12px;
            margin: 4px 8px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            border: 1px solid transparent;
        }
        .conversation-item:hover {
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-color: #e5e7eb;
        }
        .conversation-item.active {
            background: linear-gradient(to right, #eff6ff, #dbeafe);
            color: #1d4ed8;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-color: #93c5fd;
        }
        .icon {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
            color: #9ca3af;
        }
        .conversation-item.active .icon {
            color: #2563eb;
        }
        .title-container {
            flex: 1;
            min-width: 0;
            margin-right: 8px;
        }
        .title {
            display: block;
            font-size: 14px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        .delete-btn {
            position: absolute;
            right: 8px;
            padding: 6px;
            border-radius: 4px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s;
        }
        .conversation-item:hover .delete-btn,
        .conversation-item.active .delete-btn {
            opacity: 1;
            visibility: visible;
        }
        .delete-btn:hover {
            background: #fee2e2;
        }
        .test-case {
            margin: 10px 0;
            padding: 10px;
            background: #f9fafb;
            border-radius: 4px;
        }
        .success {
            color: #059669;
            font-weight: 500;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        .feature-list li:last-child {
            border-bottom: none;
        }
        .check {
            color: #10b981;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>æ³•è€ƒåŠ©æ‰‹ - ä¾§è¾¹æ ä¼˜åŒ–æµ‹è¯•</h1>
        
        <div class="test-section">
            <h2>ğŸ¯ å®ç°çš„åŠŸèƒ½</h2>
            <ul class="feature-list">
                <li><span class="check">âœ“</span><strong>è¿”å›ä¸Šæ¬¡å¯¹è¯ï¼š</strong>ç”¨æˆ·ç‚¹å‡»æ³•è€ƒé—®ç­”æŒ‰é’®è¿›å…¥é¡µé¢æ—¶ï¼Œè‡ªåŠ¨è¿”å›åˆ°ä¸Šæ¬¡ç¦»å¼€æ—¶çš„å¯¹è¯</li>
                <li><span class="check">âœ“</span><strong>è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨ï¼š</strong>è¿”å›å¯¹è¯åè‡ªåŠ¨æ»šåŠ¨åˆ°æœ€ä¸‹æ–¹ï¼Œçœ‹åˆ°æœ€æ–°å†…å®¹</li>
                <li><span class="check">âœ“</span><strong>æ ‡é¢˜çœç•¥å·ä¼˜åŒ–ï¼š</strong>ä¾§è¾¹æ ä¸­è¿‡é•¿çš„å¯¹è¯æ ‡é¢˜ä½¿ç”¨CSSçœç•¥å·æ˜¾ç¤ºï¼Œæ›´åŠ ç¾è§‚</li>
                <li><span class="check">âœ“</span><strong>æ ‡é¢˜æ‚¬æµ®æç¤ºï¼š</strong>é¼ æ ‡æ‚¬æµ®åœ¨æˆªæ–­çš„æ ‡é¢˜ä¸Šæ—¶æ˜¾ç¤ºå®Œæ•´å†…å®¹</li>
            </ul>
        </div>
        
        <div class="test-section">
            <h2>ğŸ“± ä¾§è¾¹æ æ ‡é¢˜æ˜¾ç¤ºæ•ˆæœ</h2>
            <div class="sidebar-demo">
                <!-- æ¨¡æ‹Ÿä¾§è¾¹æ  -->
                <div style="padding: 16px;">
                    <h3 style="font-size: 12px; color: #6b7280; text-transform: uppercase; margin: 0 0 8px 8px;">ä»Šå¤©</h3>
                    
                    <!-- æ­£å¸¸é•¿åº¦æ ‡é¢˜ -->
                    <div class="conversation-item">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                        <div class="title-container">
                            <span class="title">ä»€ä¹ˆæ˜¯æœ‰å¿åˆåŒï¼Ÿ</span>
                        </div>
                        <div class="delete-btn">ğŸ—‘ï¸</div>
                    </div>
                    
                    <!-- é•¿æ ‡é¢˜ï¼ˆä¼šè¢«æˆªæ–­ï¼‰ -->
                    <div class="conversation-item active">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                        <div class="title-container">
                            <span class="title" title="å®è·µåˆåŒå’Œè¯ºæˆåˆåŒçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿè¯·è¯¦ç»†è§£é‡Šä¸¤è€…çš„å®šä¹‰ã€æˆç«‹è¦ä»¶ã€å…¸å‹ä¾‹å­ä»¥åŠåœ¨å®åŠ¡ä¸­çš„åº”ç”¨">å®è·µåˆåŒå’Œè¯ºæˆåˆåŒçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿè¯·è¯¦ç»†è§£é‡Šä¸¤è€…çš„å®šä¹‰ã€æˆç«‹è¦ä»¶ã€å…¸å‹ä¾‹å­ä»¥åŠåœ¨å®åŠ¡ä¸­çš„åº”ç”¨</span>
                        </div>
                        <div class="delete-btn">ğŸ—‘ï¸</div>
                    </div>
                    
                    <!-- è¶…é•¿æ ‡é¢˜ -->
                    <div class="conversation-item">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                        <div class="title-container">
                            <span class="title" title="æ­£å½“é˜²å«ã€ç´§æ€¥é¿é™©å’ŒçŠ¯ç½ªæ„æˆä¹‹é—´çš„å…³ç³»å¦‚ä½•ç†è§£ï¼Ÿå®ƒä»¬åœ¨åˆ‘æ³•ç†è®ºä¸­çš„åœ°ä½æ˜¯æ€æ ·çš„ï¼Ÿè¯·ç»“åˆå…·ä½“æ¡ˆä¾‹åˆ†æ">æ­£å½“é˜²å«ã€ç´§æ€¥é¿é™©å’ŒçŠ¯ç½ªæ„æˆä¹‹é—´çš„å…³ç³»å¦‚ä½•ç†è§£ï¼Ÿå®ƒä»¬åœ¨åˆ‘æ³•ç†è®ºä¸­çš„åœ°ä½æ˜¯æ€æ ·çš„ï¼Ÿè¯·ç»“åˆå…·ä½“æ¡ˆä¾‹åˆ†æ</span>
                        </div>
                        <div class="delete-btn">ğŸ—‘ï¸</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ§ª æµ‹è¯•ç”¨ä¾‹</h2>
            
            <div class="test-case">
                <strong>æµ‹è¯•1ï¼šè¿”å›ä¸Šæ¬¡å¯¹è¯</strong>
                <ol>
                    <li>åˆ›å»ºå¤šä¸ªå¯¹è¯</li>
                    <li>åœ¨æŸä¸ªå¯¹è¯ä¸­è¾“å…¥å¤šæ¡æ¶ˆæ¯</li>
                    <li>ç¦»å¼€æ³•è€ƒé—®ç­”é¡µé¢</li>
                    <li>é‡æ–°ç‚¹å‡»æ³•è€ƒé—®ç­”æŒ‰é’®</li>
                    <li class="success">âœ“ åº”è¯¥è‡ªåŠ¨æ˜¾ç¤ºä¸Šæ¬¡çš„å¯¹è¯å†…å®¹</li>
                </ol>
            </div>
            
            <div class="test-case">
                <strong>æµ‹è¯•2ï¼šè‡ªåŠ¨æ»šåŠ¨</strong>
                <ol>
                    <li>è¿›å…¥æœ‰å†å²æ¶ˆæ¯çš„å¯¹è¯</li>
                    <li>è§‚å¯Ÿé¡µé¢åŠ è½½è¡Œä¸º</li>
                    <li class="success">âœ“ åº”è¯¥è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€åº•éƒ¨ï¼Œæ˜¾ç¤ºæœ€æ–°æ¶ˆæ¯</li>
                </ol>
            </div>
            
            <div class="test-case">
                <strong>æµ‹è¯•3ï¼šæ ‡é¢˜æˆªæ–­</strong>
                <ol>
                    <li>è¾“å…¥ä¸€ä¸ªå¾ˆé•¿çš„é—®é¢˜</li>
                    <li>æŸ¥çœ‹ä¾§è¾¹æ æ˜¾ç¤º</li>
                    <li class="success">âœ“ é•¿æ ‡é¢˜åº”è¯¥ä»¥çœç•¥å·ç»“å°¾</li>
                    <li class="success">âœ“ é¼ æ ‡æ‚¬æµ®åº”æ˜¾ç¤ºå®Œæ•´æ ‡é¢˜</li>
                </ol>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ’» æŠ€æœ¯å®ç°</h2>
            <h3>è¿”å›ä¸Šæ¬¡å¯¹è¯é€»è¾‘</h3>
            <pre style="background: #f3f4f6; padding: 15px; border-radius: 6px; overflow-x: auto;">
// åˆå§‹åŒ–å¯¹è¯ - è¿”å›ä¸Šæ¬¡å¯¹è¯æˆ–åˆ›å»ºæ–°å¯¹è¯
useEffect(() => {
  if (mounted) {
    // æ£€æŸ¥æ˜¯å¦æœ‰å†å²å¯¹è¯
    if (conversations.length > 0 && !currentConversationId) {
      // è·å–æœ€è¿‘çš„å¯¹è¯ï¼ˆå·²æŒ‰æ›´æ–°æ—¶é—´æ’åºï¼‰
      const lastConversation = conversations[0];
      switchConversation(lastConversation.id);
      
      // æ»šåŠ¨åˆ°åº•éƒ¨
      setTimeout(() => {
        if (scrollAreaRef.current) {
          const scrollContainer = scrollAreaRef.current.querySelector('[data-radix-scroll-area-viewport]');
          if (scrollContainer) {
            scrollContainer.scrollTop = scrollContainer.scrollHeight;
          }
        }
        messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      }, 200);
    }
  }
}, [mounted]);</pre>

            <h3>CSSçœç•¥å·å®ç°</h3>
            <pre style="background: #f3f4f6; padding: 15px; border-radius: 6px; overflow-x: auto;">
// ç»„ä»¶ç»“æ„
&lt;div className="flex-1 min-w-0 mr-2"&gt;
  &lt;span 
    className="block text-sm truncate transition-colors"
    title={title}  // å®Œæ•´æ ‡é¢˜ä½œä¸ºæ‚¬æµ®æç¤º
  &gt;
    {title}
  &lt;/span&gt;
&lt;/div&gt;

// CSSç±»è¯´æ˜
// truncate = overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
// min-w-0 = ç¡®ä¿flexå­å…ƒç´ å¯ä»¥æ”¶ç¼©
// block = ä½¿spanæˆä¸ºå—çº§å…ƒç´ ä»¥åº”ç”¨æˆªæ–­</pre>
        </div>
    </div>
</body>
</html>