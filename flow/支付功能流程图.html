<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¯ä»˜åŠŸèƒ½æµç¨‹å›¾ - æ³•è€ƒåŠ©æ‰‹</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2196F3 0%, #21CBF3 100%);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        .header h1 {
            margin: 0;
            font-size: 32px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            margin: 10px 0 0;
            font-size: 16px;
            opacity: 0.9;
        }

        .content {
            padding: 40px;
        }

        .flow-section {
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            padding-left: 20px;
            border-left: 4px solid #2196F3;
        }

        .mermaid {
            background: #fafafa;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #e0e0e0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: #f8f9ff;
            border: 1px solid #e3f2fd;
            border-radius: 12px;
            padding: 20px;
            transition: transform 0.2s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(33, 150, 243, 0.1);
        }

        .feature-card h3 {
            color: #2196F3;
            margin: 0 0 10px;
            font-size: 18px;
        }

        .feature-card p {
            color: #666;
            margin: 0;
            line-height: 1.5;
        }

        .api-section {
            background: #f5f5f5;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .api-endpoint {
            background: #fff;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            font-family: 'Courier New', monospace;
        }

        .api-endpoint .method {
            color: #4CAF50;
            font-weight: bold;
            margin-right: 10px;
        }

        .api-endpoint .path {
            color: #333;
        }

        .status-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: linear-gradient(90deg, #e3f2fd 0%, #fff3e0 50%, #e8f5e8 100%);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .status-item {
            text-align: center;
            flex: 1;
            position: relative;
        }

        .status-item::after {
            content: 'â†’';
            position: absolute;
            right: -20px;
            top: 50%;
            transform: translateY(-50%);
            color: #2196F3;
            font-size: 20px;
            font-weight: bold;
        }

        .status-item:last-child::after {
            display: none;
        }

        .status-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 18px;
        }

        .status-pending .status-circle { background: #FF9800; }
        .status-reviewing .status-circle { background: #2196F3; }
        .status-approved .status-circle { background: #4CAF50; }

        .risk-warnings {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }

        .risk-warnings h3 {
            color: #856404;
            margin: 0 0 15px;
        }

        .risk-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        .risk-item::before {
            content: 'âš ï¸';
            margin-right: 10px;
            flex-shrink: 0;
        }

        .footer {
            background: #f5f5f5;
            padding: 20px 40px;
            text-align: center;
            color: #666;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .header {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .status-flow {
                flex-direction: column;
                gap: 20px;
            }
            
            .status-item::after {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ’³ æ”¯ä»˜åŠŸèƒ½æµç¨‹å›¾</h1>
            <p>æ³•è€ƒåŠ©æ‰‹ä¼šå‘˜æ”¯ä»˜ç³»ç»Ÿ - çˆ±å‘ç”µæ”¯ä»˜æ–¹æ¡ˆè¯¦ç»†è®¾è®¡</p>
        </div>

        <div class="content">
            <!-- æ•´ä½“æ”¯ä»˜æµç¨‹ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ”„ æ•´ä½“æ”¯ä»˜æµç¨‹</h2>
                <div class="mermaid">
                    graph TD
                        A[ç”¨æˆ·è§¦å‘å‡çº§] --> B{ç”¨æˆ·æ˜¯å¦ç™»å½•?}
                        B -->|å¦| C[æ˜¾ç¤ºç™»å½•é¡µé¢]
                        C --> D[ç”¨æˆ·å®Œæˆç™»å½•]
                        D --> E[æ˜¾ç¤ºä¼šå‘˜å¥—é¤é€‰æ‹©]
                        B -->|æ˜¯| E
                        
                        E --> F[ç”¨æˆ·é€‰æ‹©å¥—é¤ç±»å‹]
                        F --> G[æ˜¾ç¤ºçˆ±å‘ç”µæ”¯ä»˜æŒ‡å¼•]
                        G --> H[ç”¨æˆ·è·³è½¬åˆ°çˆ±å‘ç”µ]
                        H --> I[å®Œæˆæ”¯ä»˜è·å¾—å‡­è¯]
                        I --> J[è¿”å›åº”ç”¨ä¸Šä¼ å‡­è¯]
                        
                        J --> K[ç³»ç»Ÿåˆ›å»ºå¾…å®¡æ ¸è®¢å•]
                        K --> L[æ˜¾ç¤ºå®¡æ ¸ç­‰å¾…æç¤º]
                        L --> M[ç®¡ç†å‘˜å®¡æ ¸è®¢å•]
                        
                        M --> N{å®¡æ ¸ç»“æœ}
                        N -->|é€šè¿‡| O[æ¿€æ´»ä¼šå‘˜æƒé™]
                        N -->|æ‹’ç»| P[å‘é€æ‹’ç»é€šçŸ¥]
                        
                        O --> Q[å‘é€æ¿€æ´»æˆåŠŸé€šçŸ¥]
                        Q --> R[ç”¨æˆ·äº«å—ä¼šå‘˜åŠŸèƒ½]
                        P --> S[ç”¨æˆ·å¯é‡æ–°æäº¤]
                        
                        style A fill:#e3f2fd
                        style R fill:#e8f5e8
                        style P fill:#ffebee
                        style O fill:#e8f5e8
                </div>
            </div>

            <!-- ä¼šå‘˜æƒé™å¯¹æ¯” -->
            <div class="flow-section">
                <h2 class="section-title">âš–ï¸ ä¼šå‘˜æƒé™å¯¹æ¯”</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>ğŸ¤– AIé—®ç­”åŠŸèƒ½</h3>
                        <p><strong>å…è´¹ç”¨æˆ·ï¼š</strong>æ¯æ—¥3æ¬¡é™åˆ¶<br>
                        <strong>ä¼šå‘˜ç”¨æˆ·ï¼š</strong>æ— é™æ¬¡ä½¿ç”¨</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ—ºï¸ çŸ¥è¯†å¯¼å›¾</h3>
                        <p><strong>å…è´¹ç”¨æˆ·ï¼š</strong>ä»…æ°‘æ³•å­¦ç§‘<br>
                        <strong>ä¼šå‘˜ç”¨æˆ·ï¼š</strong>å…¨éƒ¨8å¤§å­¦ç§‘</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ“š çœŸé¢˜åº“</h3>
                        <p><strong>å…è´¹ç”¨æˆ·ï¼š</strong>ä»…2022å¹´çœŸé¢˜<br>
                        <strong>ä¼šå‘˜ç”¨æˆ·ï¼š</strong>å†å¹´å…¨éƒ¨çœŸé¢˜</p>
                    </div>
                    <div class="feature-card">
                        <h3>ğŸ“ å­¦ä¹ ç¬”è®°</h3>
                        <p><strong>å…è´¹ç”¨æˆ·ï¼š</strong>æœ€å¤š10æ¡ç¬”è®°<br>
                        <strong>ä¼šå‘˜ç”¨æˆ·ï¼š</strong>æ— é™åˆ¶åˆ›å»º</p>
                    </div>
                </div>
            </div>

            <!-- æ”¯ä»˜å‡­è¯å¤„ç†æµç¨‹ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ“· æ”¯ä»˜å‡­è¯å¤„ç†æµç¨‹</h2>
                <div class="mermaid">
                    graph LR
                        A[ç”¨æˆ·ä¸Šä¼ æ”¯ä»˜æˆªå›¾] --> B[å‰ç«¯å›¾ç‰‡éªŒè¯]
                        B --> C{å›¾ç‰‡æ ¼å¼/å¤§å°æ£€æŸ¥}
                        C -->|å¤±è´¥| D[æ˜¾ç¤ºé”™è¯¯æç¤º]
                        C -->|é€šè¿‡| E[è½¬æ¢ä¸ºBase64]
                        
                        E --> F[è°ƒç”¨åˆ›å»ºè®¢å•API]
                        F --> G[åç«¯ä¿å­˜è®¢å•è®°å½•]
                        G --> H[è¿”å›è®¢å•ID]
                        H --> I[æ˜¾ç¤ºæäº¤æˆåŠŸé¡µé¢]
                        
                        I --> J[ç®¡ç†å‘˜æ”¶åˆ°å®¡æ ¸é€šçŸ¥]
                        J --> K[ç®¡ç†å‘˜æŸ¥çœ‹æ”¯ä»˜å‡­è¯]
                        K --> L{éªŒè¯æ”¯ä»˜çœŸå®æ€§}
                        
                        L -->|çœŸå®| M[æ‰¹å‡†è®¢å•]
                        L -->|è™šå‡| N[æ‹’ç»è®¢å•]
                        
                        M --> O[æ›´æ–°ç”¨æˆ·ä¼šå‘˜çŠ¶æ€]
                        N --> P[è®°å½•æ‹’ç»åŸå› ]
                        
                        style A fill:#e3f2fd
                        style O fill:#e8f5e8
                        style P fill:#ffebee
                        style D fill:#ffebee
                </div>
            </div>

            <!-- è®¢å•çŠ¶æ€æµè½¬ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ“Š è®¢å•çŠ¶æ€æµè½¬</h2>
                <div class="status-flow">
                    <div class="status-item status-pending">
                        <div class="status-circle">1</div>
                        <h4>å¾…å®¡æ ¸</h4>
                        <p>ç”¨æˆ·æäº¤æ”¯ä»˜å‡­è¯<br>ç³»ç»Ÿåˆ›å»ºè®¢å•è®°å½•</p>
                    </div>
                    <div class="status-item status-reviewing">
                        <div class="status-circle">2</div>
                        <h4>å®¡æ ¸ä¸­</h4>
                        <p>ç®¡ç†å‘˜éªŒè¯æ”¯ä»˜çœŸå®æ€§<br>1-3å°æ—¶å†…å¤„ç†</p>
                    </div>
                    <div class="status-item status-approved">
                        <div class="status-circle">3</div>
                        <h4>å·²ç”Ÿæ•ˆ</h4>
                        <p>ä¼šå‘˜æƒé™æ¿€æ´»<br>ç”¨æˆ·æ”¶åˆ°é€šçŸ¥</p>
                    </div>
                </div>
            </div>

            <!-- APIæ¥å£è®¾è®¡ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ”Œ APIæ¥å£è®¾è®¡</h2>
                <div class="api-section">
                    <div class="api-endpoint">
                        <span class="method">POST</span>
                        <span class="path">/api/member/create-order</span>
                        <div style="margin-top: 10px; color: #666; font-size: 14px;">åˆ›å»ºä¼šå‘˜è®¢å•ï¼Œä¸Šä¼ æ”¯ä»˜å‡­è¯</div>
                    </div>
                    <div class="api-endpoint">
                        <span class="method">GET</span>
                        <span class="path">/api/member/orders</span>
                        <div style="margin-top: 10px; color: #666; font-size: 14px;">è·å–ç”¨æˆ·è®¢å•å†å²è®°å½•</div>
                    </div>
                    <div class="api-endpoint">
                        <span class="method">GET</span>
                        <span class="path">/api/member/status</span>
                        <div style="margin-top: 10px; color: #666; font-size: 14px;">æ£€æŸ¥ç”¨æˆ·ä¼šå‘˜çŠ¶æ€å’Œåˆ°æœŸæ—¶é—´</div>
                    </div>
                    <div class="api-endpoint">
                        <span class="method">POST</span>
                        <span class="path">/api/admin/member/approve-order</span>
                        <div style="margin-top: 10px; color: #666; font-size: 14px;">ç®¡ç†å‘˜å®¡æ ¸è®¢å•æ¥å£</div>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®åº“è®¾è®¡æµç¨‹ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ’¾ æ•°æ®åº“è®¾è®¡æµç¨‹</h2>
                <div class="mermaid">
                    graph TD
                        A[member_ordersè¡¨] --> B[å­˜å‚¨è®¢å•ä¿¡æ¯]
                        B --> C[user_id: ç”¨æˆ·ID]
                        B --> D[order_type: è®¢å•ç±»å‹]
                        B --> E[amount: æ”¯ä»˜é‡‘é¢]
                        B --> F[proof_image: æ”¯ä»˜å‡­è¯]
                        B --> G[status: è®¢å•çŠ¶æ€]
                        
                        H[usersè¡¨æ‰©å±•] --> I[ä¼šå‘˜ç›¸å…³å­—æ®µ]
                        I --> J[is_member: æ˜¯å¦ä¼šå‘˜]
                        I --> K[member_expires_at: åˆ°æœŸæ—¶é—´]
                        I --> L[member_type: ä¼šå‘˜ç±»å‹]
                        
                        M[å…³è”å…³ç³»] --> N[orders.user_id -> users.id]
                        N --> O[æ”¯æŒè®¢å•å†å²æŸ¥è¯¢]
                        O --> P[æ”¯æŒä¼šå‘˜çŠ¶æ€éªŒè¯]
                        
                        style A fill:#e3f2fd
                        style H fill:#e8f5e8
                        style M fill:#fff3e0
                </div>
            </div>

            <!-- ç”¨æˆ·ä½“éªŒä¼˜åŒ– -->
            <div class="flow-section">
                <h2 class="section-title">âœ¨ ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h2>
                <div class="mermaid">
                    graph LR
                        A[è§¦å‘å‡çº§æé†’] --> B[éä¾µå…¥å¼æç¤º]
                        B --> C[æ¸…æ™°çš„ä»·å€¼è¯´æ˜]
                        C --> D[ç®€åŒ–æ”¯ä»˜æµç¨‹]
                        
                        D --> E[è¯¦ç»†æ”¯ä»˜æŒ‡å¼•]
                        E --> F[å®æ—¶çŠ¶æ€åé¦ˆ]
                        F --> G[å®¢æœæ”¯æŒæ¸ é“]
                        
                        H[é˜²æ»¥ç”¨æœºåˆ¶] --> I[è®¢å•æ•°é‡é™åˆ¶]
                        I --> J[å†·å´æœŸè®¾ç½®]
                        J --> K[å›¾ç‰‡æ ¼å¼éªŒè¯]
                        
                        style A fill:#e3f2fd
                        style G fill:#e8f5e8
                        style H fill:#fff3e0
                </div>
            </div>

            <!-- é£é™©æ§åˆ¶æªæ–½ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ›¡ï¸ é£é™©æ§åˆ¶æªæ–½</h2>
                <div class="risk-warnings">
                    <h3>åˆè§„æ€§é£é™©æ§åˆ¶</h3>
                    <div class="risk-item">æ˜ç¡®æ ‡è¯†ä¸º"åˆ›ä½œè€…æ”¯æŒ"è€Œéå•†å“é”€å”®</div>
                    <div class="risk-item">å¼ºè°ƒæä¾›å­¦ä¹ æ”¯æŒæœåŠ¡çš„æ€§è´¨</div>
                    <div class="risk-item">åˆ¶å®šæ˜ç¡®çš„é€€æ¬¾æ”¿ç­–å’Œæµç¨‹</div>
                    <div class="risk-item">æ›´æ–°ç”¨æˆ·åè®®è¯´æ˜æ”¯ä»˜æ¨¡å¼</div>
                </div>
                
                <div class="mermaid">
                    graph TD
                        A[æŠ€æœ¯é£é™©æ§åˆ¶] --> B[è®¢å•é‡å¤æäº¤æ£€æµ‹]
                        A --> C[æ”¯ä»˜å‡­è¯çœŸå®æ€§éªŒè¯]
                        A --> D[ç”¨æˆ·è¡Œä¸ºå¼‚å¸¸ç›‘æ§]
                        
                        E[ä¸šåŠ¡é£é™©æ§åˆ¶] --> F[äººå·¥å®¡æ ¸æœºåˆ¶]
                        E --> G[åˆ†çº§å®¡æ ¸æƒé™]
                        E --> H[å®¡æ ¸è®°å½•ç•™å­˜]
                        
                        I[æ³•å¾‹é£é™©æ§åˆ¶] --> J[åˆè§„æ€§æ ‡è¯†]
                        I --> K[æœåŠ¡æ€§è´¨è¯´æ˜]
                        I --> L[è¿‡æ¸¡æ–¹æ¡ˆå‡†å¤‡]
                        
                        style A fill:#ffebee
                        style E fill:#fff3e0
                        style I fill:#e8f5e8
                </div>
            </div>

            <!-- ç®¡ç†å‘˜å®¡æ ¸æµç¨‹ -->
            <div class="flow-section">
                <h2 class="section-title">ğŸ‘¨â€ğŸ’¼ ç®¡ç†å‘˜å®¡æ ¸æµç¨‹</h2>
                <div class="mermaid">
                    graph TD
                        A[æ–°è®¢å•é€šçŸ¥] --> B[ç®¡ç†å‘˜ç™»å½•åå°]
                        B --> C[æŸ¥çœ‹å¾…å®¡æ ¸è®¢å•åˆ—è¡¨]
                        C --> D[ç‚¹å‡»æŸ¥çœ‹è®¢å•è¯¦æƒ…]
                        
                        D --> E[éªŒè¯ç”¨æˆ·ä¿¡æ¯]
                        E --> F[æŸ¥çœ‹æ”¯ä»˜å‡­è¯å›¾ç‰‡]
                        F --> G[éªŒè¯æ”¯ä»˜æ—¶é—´å’Œé‡‘é¢]
                        
                        G --> H{æ”¯ä»˜å‡­è¯çœŸå®æ€§åˆ¤æ–­}
                        H -->|çœŸå®æœ‰æ•ˆ| I[ç‚¹å‡»é€šè¿‡æŒ‰é’®]
                        H -->|å­˜ç–‘æˆ–è™šå‡| J[ç‚¹å‡»æ‹’ç»æŒ‰é’®]
                        
                        I --> K[å¡«å†™å®¡æ ¸å¤‡æ³¨]
                        J --> L[å¡«å†™æ‹’ç»åŸå› ]
                        
                        K --> M[ç¡®è®¤é€šè¿‡å®¡æ ¸]
                        L --> N[ç¡®è®¤æ‹’ç»ç”³è¯·]
                        
                        M --> O[ç³»ç»Ÿè‡ªåŠ¨æ¿€æ´»ä¼šå‘˜]
                        N --> P[ç³»ç»Ÿå‘é€æ‹’ç»é€šçŸ¥]
                        
                        O --> Q[å‘é€æ¿€æ´»æˆåŠŸæ¶ˆæ¯]
                        P --> R[ç”¨æˆ·å¯é‡æ–°ç”³è¯·]
                        
                        style A fill:#e3f2fd
                        style O fill:#e8f5e8
                        style P fill:#ffebee
                        style Q fill:#e8f5e8
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Â© 2025 æ³•è€ƒåŠ©æ‰‹ | æ”¯ä»˜åŠŸèƒ½æµç¨‹å›¾ v1.1 | åŸºäºçˆ±å‘ç”µæ”¯ä»˜æ–¹æ¡ˆè®¾è®¡</p>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ– Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            }
        });

        // æ·»åŠ äº¤äº’æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.feature-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-5px) scale(1.02)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                });
            });
        });
    </script>
</body>
</html>